# Triple-S: Simple Storage Service

Triple-S (Simple Storage Service) ‚Äî —ç—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Amazon S3, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–æ–∑–¥–∞–≤–∞—Ç—å, —É–ø—Ä–∞–≤–ª—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö (–±–∞–∫–µ—Ç—ã) —á–µ—Ä–µ–∑ REST API. –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –æ—Å–≤–æ–∏—Ç—å –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å REST API, —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

---

## üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞–º–∏ (Buckets):**
   - –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–æ–≤.
   - –£–¥–∞–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–æ–≤.
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤.

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏ (Objects):**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –±–∞–∫–µ—Ç—ã.
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤.
   - –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤.

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:**
   - `buckets_metadata.csv` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤ (–∏–º—è, –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è, —Å—Ç–∞—Ç—É—Å).
   - `object_metadata.csv` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –±–∞–∫–µ—Ç–∞ (–∏–º—è –æ–±—ä–µ–∫—Ç–∞, —Ä–∞–∑–º–µ—Ä, –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è).

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –±–∞–∫–µ—Ç–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.
   - –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/your-repo/triple-s.git
   cd triple-s
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Go](https://golang.org/dl/).

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   go run main.go --port 8080 --dir ./data
   ```

### 2. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞:
```bash
curl -X PUT http://localhost:8080/my-bucket
```
–û—Ç–≤–µ—Ç: `201 –ë–∞–∫–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω`

#### –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–∞:
```bash
curl -X PUT --data-binary @example.txt http://localhost:8080/my-bucket/example.txt
```
–û—Ç–≤–µ—Ç: `201 –û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω`

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:
```bash
curl -X GET http://localhost:8080/my-bucket/example.txt --output downloaded.txt
```
–û—Ç–≤–µ—Ç: `200 OK` (—Ñ–∞–π–ª —Å–∫–∞—á–∞–Ω –∫–∞–∫ `downloaded.txt`)

#### –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:
```bash
curl -X DELETE http://localhost:8080/my-bucket/example.txt
```
–û—Ç–≤–µ—Ç: `204 –û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω`

#### –£–¥–∞–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞:
```bash
curl -X DELETE http://localhost:8080/my-bucket
```
–û—Ç–≤–µ—Ç: `204 –ë–∞–∫–µ—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω`

---

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ò–º—è –±–∞–∫–µ—Ç–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

- –û—Ç 3 –¥–æ 63 —Å–∏–º–≤–æ–ª–æ–≤.
- –°–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Å—Ç—Ä–æ—á–Ω—ã—Ö –±—É–∫–≤, —Ü–∏—Ñ—Ä, —Ç–æ—á–µ–∫ (`.`) –∏ –¥–µ—Ñ–∏—Å–æ–≤ (`-`).
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –±—É–∫–≤–æ–π –∏–ª–∏ —Ü–∏—Ñ—Ä–æ–π.
- –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ –ø–æ–¥—Ä—è–¥ —Ç–æ—á–∫–∏ (`..`).
- –ù–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ IP-–∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.1`).
- –ù–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤: `xn--`, `sthree-`, `amzn-s3-demo-`.
- –ù–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–º–∏ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏: `-s3alias`, `.mrap`, `--x-s3`.

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

- `--port` ‚Äî –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `8080`).
- `--dir` ‚Äî –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `./data`).

–ü—Ä–∏–º–µ—Ä:
```bash
go run main.go --port 8080 --dir ./my-data
```

---

## üåê API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∫–µ—Ç–∞–º–∏

| –ú–µ—Ç–æ–¥  | –≠–Ω–¥–ø–æ–∏–Ω—Ç                | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|--------|-------------------------|--------------------------------|
| PUT    | `/my-bucket`            | –°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç                 |
| DELETE | `/my-bucket`            | –£–¥–∞–ª–∏—Ç—å –±–∞–∫–µ—Ç                 |
| GET    | `/my-bucket`            | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤  |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏

| –ú–µ—Ç–æ–¥  | –≠–Ω–¥–ø–æ–∏–Ω—Ç                         | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|--------|----------------------------------|-------------------------------|
| PUT    | `/my-bucket/my-object`           | –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—ä–µ–∫—Ç –≤ –±–∞–∫–µ—Ç      |
| GET    | `/my-bucket/my-object`           | –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∫–µ—Ç–∞     |
| DELETE | `/my-bucket/my-object`           | –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∫–µ—Ç–∞      |

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go –≤–µ—Ä—Å–∏–∏ 1.18 –∏–ª–∏ –≤—ã—à–µ.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `curl`, Postman).
- –ú–∏–Ω–∏–º—É–º 10 MB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

## üèÜ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [LICENSE](LICENSE).

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Triple-S! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ [issue](https://github.com/your-repo/triple-s/issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

